<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Para ti ❤️</title>
  <style>
    body {
      margin: 0;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      background: url('https://images.unsplash.com/photo-1501973801540-537f08ccae7b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1500&q=80') no-repeat center center/cover;
      font-family: 'Segoe UI', sans-serif;
      color: white;
      text-align: center;
      overflow: hidden;
      padding: 5vw;
    }

    /* Texto principal */
    #main-message {
      font-size: clamp(1rem, 5vw, 2rem);
      max-width: 90%;
      white-space: pre-wrap;
      border-right: 2px solid white;
      width: fit-content;
      animation: blink 0.8s infinite;
      margin-bottom: 3vh;
    }

    @keyframes blink {
      50% { border-color: transparent; }
    }

    /* SVG Flores */
    #flowers {
      width: clamp(150px, 40vw, 300px);
      height: auto;
      margin-top: 2vh;
    }

    #flowers path {
      fill: none;
      stroke: gold;
      stroke-width: 3;
      stroke-dasharray: 1000;
      stroke-dashoffset: 1000;
      animation: draw 5s forwards;
    }

    /* Relleno de flores */
    #flowers .petal {
      fill: yellow;
      fill-opacity: 0;
      stroke: gold;
      stroke-width: 2;
      stroke-dasharray: 1000;
      stroke-dashoffset: 1000;
      animation: draw 5s forwards, fillIn 2s forwards;
      animation-delay: 0s, 5s;
    }

    @keyframes draw {
      to { stroke-dashoffset: 0; }
    }

    @keyframes fillIn {
      to { fill-opacity: 1; }
    }

    /* Estrellitas */
    .star {
      position: absolute;
      top: -10px;
      color: yellow;
      font-size: 0.6rem;
      animation: fall linear;
    }

    @keyframes fall {
      to {
        transform: translateY(110vh);
        opacity: 0;
      }
    }

    /* Mensajes aleatorios */
    #random-message {
      position: absolute;
      bottom: 8%;
      font-size: clamp(0.9rem, 3vw, 1.5rem);
      opacity: 0;
      transition: opacity 2s;
      padding: 0 5vw;
    }

    /* Corazón final */
    #heart {
      font-size: clamp(2rem, 8vw, 4rem);
      opacity: 0;
      margin-top: 3vh;
      animation: heartbeat 1.2s infinite, glow 1.2s infinite;
      text-shadow: 0 0 5px gold, 0 0 10px gold, 0 0 15px orange;
    }

    @keyframes heartbeat {
      0%, 100% { transform: scale(1); }
      25% { transform: scale(1.2); }
      50% { transform: scale(1); }
      75% { transform: scale(1.2); }
    }

    @keyframes glow {
      0%, 100% { text-shadow: 0 0 5px gold, 0 0 10px gold, 0 0 15px orange; }
      50% { text-shadow: 0 0 20px gold, 0 0 40px orange, 0 0 60px yellow; }
    }
  </style>
</head>
<body>

  <div id="main-message"></div>

  <!-- Ramo en SVG -->
  <svg id="flowers" viewBox="0 0 200 200">
    <!-- Tallo -->
    <path d="M100 200 C100 150, 100 100, 100 50" />

    <!-- Flor 1 -->
    <path class="petal" d="M100 50 
             C90 40, 80 40, 85 55 
             C70 60, 75 70, 90 65 
             C85 80, 95 85, 100 70 
             C105 85, 115 80, 110 65 
             C125 70, 130 60, 115 55 
             C120 40, 110 40, 100 50 Z" />

    <!-- Flor 2 -->
    <path class="petal" d="M100 80 
             C90 70, 80 70, 85 85 
             C70 90, 75 100, 90 95 
             C85 110, 95 115, 100 100 
             C105 115, 115 110, 110 95 
             C125 100, 130 90, 115 85 
             C120 70, 110 70, 100 80 Z" />
  </svg>

  <!-- Corazón -->
  <div id="heart">❤️</div>

  <div id="random-message"></div>

  <!-- Sonido del corazón -->
  <audio id="heartbeat-sound" src="https://www.soundjay.com/human/heartbeat-01.mp3" preload="auto"></audio>

  <script>
    // Texto principal animado (máquina de escribir)
    const text = "Las flores amarillas representan la felicidad.\nY tú eres la mía ❤️";
    let i = 0;
    const speed = 80;
    const mainMessage = document.getElementById("main-message");
    const heart = document.getElementById("heart");
    const heartbeatSound = document.getElementById("heartbeat-sound");

    function typeWriter() {
      if (i < text.length) {
        mainMessage.innerHTML += text.charAt(i);
        i++;
        setTimeout(typeWriter, speed);
      } else {
        // Mostrar corazón con sonido
        setTimeout(() => {
          heart.style.opacity = 1;
          // Reproducir sonido sincronizado
          document.body.addEventListener("click", () => {
            setInterval(() => {
              heartbeatSound.currentTime = 0;
              heartbeatSound.play();
            }, 1200); // sincronizado con animación
          }, { once: true });
        }, 7000);
        startRandomMessages();
      }
    }
    typeWriter();

    // Estrellitas cayendo
    function createStar() {
      const star = document.createElement("div");
      star.innerHTML = "✦";
      star.classList.add("star");
      star.style.left = Math.random() * window.innerWidth + "px";
      star.style.fontSize = (Math.random() * 1.2 + 0.4) + "rem";
      star.style.animationDuration = (2 + Math.random() * 3) + "s";
      document.body.appendChild(star);
      setTimeout(() => star.remove(), 5000);
    }
    setInterval(createStar, 250);

    // Mensajes aleatorios
    const messages = [
      "Eres la mejor niña.",
      "Siempre pienso en ti princesa.",
      "Tú eres mi alegría.",
      "Mi solecito.",
      "Tu sonrisa ilumina mis días."
    ];
    const randomMessage = document.getElementById("random-message");

    function startRandomMessages() {
      setInterval(() => {
        const msg = messages[Math.floor(Math.random() * messages.length)];
        randomMessage.innerText = msg;
        randomMessage.style.opacity = 1;
        setTimeout(() => randomMessage.style.opacity = 0, 3000);
      }, 5000);
    }
  </script>

</body>
</html>