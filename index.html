<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Sunset Sunflowers — Flores Amarillas</title>
    <style>
/* ------------------ RESET ------------------ */
*,
*::after,
*::before {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}

/* ------------------ VARIABLES ------------------ */
:root {
  --dark-color: #000; /* fallback */
  --fl-speed: 0.8s;
  --speed-leaf: 2s;
  --accent-yellow: #ffd700;
  --leaf-green: #4a7c23;
}

/* ------------------ BODY ------------------ */
html, body {
  height: 100%;
}
body {
  display: flex;
  align-items: flex-end;
  justify-content: center;
  min-height: 100vh;
  overflow: hidden;
  perspective: 1000px;
  font-family: "Arial", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ------------------ FONDO: IMAGEN DE ATARDECER ------------------ */
.night {
  position: fixed;
  left: 50%;
  top: 0;
  transform: translateX(-50%);
  width: 100%;
  height: 100%;
  z-index: 0;
  /* CHANGE THIS URL if you want a different sunset image */
  background-image:
    linear-gradient(180deg, rgba(255,200,140,0.10) 0%, rgba(255,110,90,0.10) 40%, rgba(60,18,70,0.18) 85%),
    url("https://images.unsplash.com/photo-1501973801540-537f08ccae7b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1600&q=80");
  background-size: cover;
  background-position: center center;
  filter: blur(0.05vmin);
}

/* ------------------ SHOOTING STARS (subtle) ------------------ */
.shooting-stars {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 1;
}

.shooting-star {
  position: absolute;
  width: 4px;
  height: 4px;
  background: #fff;
  border-radius: 50%;
  box-shadow: 0 0 6px 2px rgba(255, 255, 255, 0.8);
  opacity: 0;
  animation: shootingStar 3s linear infinite;
}
.shooting-star::before {
  content: '';
  position: absolute;
  top: 50%;
  right: 0;
  transform: translateY(-50%);
  width: 0;
  height: 2px;
  background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 100%);
  animation: shootingStarTail 3s linear infinite;
}
@keyframes shootingStar {
  0% { opacity: 0; transform: translateX(0) translateY(0) rotate(45deg); }
  10% { opacity: 1; }
  90% { opacity: 1; }
  100% { opacity: 0; transform: translateX(120vw) translateY(50vh) rotate(10deg); }
}
@keyframes shootingStarTail {
  0% { width: 0; }
  30% { width: 100px; }
  100% { width: 0; }
}
/* ------------------ FLOWERS (full original styling adapted) ------------------ */
.flowers {
  position: relative;
  transform: scale(0.85); /* centrado, ligeramente más grande */
  z-index: 4;
  width: 100%;
  display: flex;
  justify-content: center;
  pointer-events: none;
}

/* center bouquet container to avoid absolute left positions from original */
.bouquet {
  position: relative;
  width: min(1100px, 92%);
  display: flex;
  justify-content: center;
  gap: 4vmin;
  align-items: flex-end;
  margin-bottom: 2vmin;
}

/* flower base */
.flower {
  position: relative;
  bottom: 0vmin;
  transform-origin: bottom center;
  z-index: 6;
  display:flex;
  align-items:flex-end;
  justify-content:center;
}

/* flower sizes adjusted via inline style on HTML */
.flower__leafs {
  position: relative;
  animation: blooming-flower 1.6s backwards;
}
.flower__leafs::after {
  content: "";
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%,-50%);
  width: 8vmin;
  height: 8vmin;
  background-color: var(--accent-yellow);
  filter: blur(8vmin);
  z-index: 1;
}

.flower__leaf {
  position: absolute;
  bottom: 0;
  left: 50%;
  width: 23vmin;
  height: 6vmin;
  border-radius: 60% 40% 60% 40%;
  background-color: var(--accent-yellow);
  background-image: linear-gradient(to top, #ff8c00, var(--accent-yellow), #ffff00);
  transform-origin: bottom center;
  opacity: 0.98;
  box-shadow: inset 0 0 1vmin rgba(255,255,255,0.65), 0 0 3vmin rgba(255,215,0,0.32);
  z-index: 3;
}

/* white center */
.flower__white-circle {
  position: absolute;
  left: 50%;
  top: 40%;
  transform: translate(-50%,-50%);
  width: 10vmin;
  height: 10vmin;
  border-radius: 50%;
  background-image: radial-gradient(circle at 30% 30%, #654321, #8b4513, #2f1b14);
  box-shadow: inset 0 0 2vmin rgba(0,0,0,0.8), 0 0 1vmin rgba(139,69,19,0.6);
  z-index: 6;
}
.flower__white-circle::after {
  content: "";
  position: absolute;
  left: 46%;
  top: 31%;
  transform: translate(-50%, -50%);
  width: 80%;
  height: 80%;
  z-index: 3;
  border-radius: inherit;
  background-image: repeating-conic-gradient(from 0deg, #2f1b14 0deg 15deg, #654321 15deg 30deg), radial-gradient(circle at center, #8b4513, #654321);
}
/* stem */
.flower__line {
  height: 40vmin; /* adjusted shorter than original for layout */
  width: 1.8vmin;
  background-image: linear-gradient(to left, rgba(0,0,0,0.28), transparent, rgba(255,255,255,0.12)), linear-gradient(to top, transparent 10%, #2d5016, #4a7c23, #6b8e23);
  border-radius: 1vmin;
  box-shadow: inset 0 0 2px rgba(0,0,0,0.6);
  z-index: 2;
}

/* leafs on stems */
.flower__line__leaf {
  --w: 8vmin;
  --h: calc(var(--w) + 3vmin);
  position: absolute;
  top: 20%;
  left: 90%;
  width: var(--w);
  height: var(--h);
  border-top-right-radius: var(--h);
  border-bottom-left-radius: var(--h);
  background-image: linear-gradient(to top, rgba(45,80,22,0.6), var(--leaf-green), #6b8e23);
  box-shadow: inset 0 0 1vmin rgba(0,0,0,0.3);
  z-index: 2;
}

/* seed lights */
.flower__light {
  position: absolute;
  bottom: 0vmin;
  width: 0.9vmin;
  height: 0.9vmin;
  background-color: #8b4513;
  border-radius: 50%;
  filter: blur(0.06vmin);
  animation: sunflower-seeds 6s linear infinite backwards;
  box-shadow: 0 0 1vmin rgba(139,69,19,0.8);
  z-index: 7;
}

/* grass base simplified for bouquet */
.bouquet-grass {
  position: absolute;
  bottom: -1vmin;
  left: 50%;
  transform: translateX(-50%);
  z-index: 3;
  display:flex;
  gap:.5vmin;
  align-items:flex-end;
}
.bouquet-grass .blade {
  width: .9vmin;
  height: 9vmin;
  background-image: linear-gradient(to top, transparent, var(--leaf-green));
  border-top-right-radius: 120%;
  transform-origin: bottom center;
}

/* animations */
@keyframes blooming-flower {
  0% { transform: scale(0); }
  100% { transform: scale(1); }
}
@keyframes sunflower-seeds {
  0% { opacity: 0; transform: translateY(0vmin) rotate(0deg); }
  20% { opacity: 1; transform: translateY(-2.6vmin) translateX(-0.6vmin) rotate(45deg); }
  40% { opacity: 1; transform: translateY(-6vmin) translateX(0.8vmin) rotate(90deg); }
  60% { transform: translateY(-9vmin) translateX(-0.6vmin) rotate(135deg); }
  80% { transform: translateY(-12vmin) translateX(1vmin) rotate(180deg); opacity: 0.5; }
  100% { transform: translateY(-18vmin) rotate(225deg); opacity: 0; }
}

/* ------------------ SPECIAL TEXT (we show via JS typing) ------------------ */
.special-text {
    position: fixed;
    top: 4.5%;
    left: 50%;
    transform: translateX(-50%);
    color: #fffbe6;
    font-family: "Courier New", monospace;
    font-size: clamp(16px, 3.6vmin, 36px);
    text-shadow: 0 0 0.8vmin rgba(0,0,0,0.45);
    z-index: 20;
    line-height: 1.05;
    white-space: pre-wrap;
    text-align: center;
    pointer-events: none;
}

/* caret style (we toggle with JS while typing) */
.special-text.typing::after {
  content: "|";
  margin-left: .25ch;
  opacity: 0.95;
  animation: blinkCaret 1s steps(2, start) infinite;
  color: #fffbe6;
}
@keyframes blinkCaret { 50% { opacity: 0; } }

/* ------------------ FLOATING PHRASES (readable & in safe zones) ------------------ */
.floating-phrase {
  position: absolute;
  transform: translate(-50%, -50%);
  pointer-events: none;
  font-weight: 700;
  color: #fffbea;
  text-shadow: 0 0 0.6vmin rgba(0,0,0,0.6);
  opacity: 0;
  z-index: 18;
  padding: 0.6vmin 1.2vmin;
  border-radius: 0.8vmin;
  background: rgba(0,0,0,0.18);
  backdrop-filter: blur(2px);
  animation: phraseInOut 5.5s ease-in-out forwards;
}
@keyframes phraseInOut {
  0% { opacity: 0; transform: translate(-50%,-40%) scale(.96); }
  12% { opacity: 1; transform: translate(-50%,-50%) scale(1); }
  78% { opacity: 1; transform: translate(-50%,-55%) scale(1); }
  100% { opacity: 0; transform: translate(-50%,-75%) scale(.98); }
}

/* ------------------ UTILS ------------------ */
.not-loaded * { animation-play-state: paused !important; }

/* responsive */
@media (max-width: 780px) {
  .bouquet { gap: 2.2vmin; }
  .flower__leaf { width: 16vmin; height: 4.8vmin; }
  .flower__white-circle { width: 8vmin; height: 8vmin; }
  .flower__line { width: 1.4vmin; }
  .special-text { font-size: clamp(14px, 4.8vw, 20px); top: 6%; }
  .floating-phrase { font-size: 3.2vmin; padding: .8vmin 1.6vmin; }
}
    </style>
</head>
<body class="not-loaded">
  <!-- BACKDROP IMAGE -->
  <div class="night" aria-hidden="true"></div>
  <!-- subtle shooting stars container -->
  <div class="shooting-stars" aria-hidden="true"></div>

  <!-- MAIN TEXT (typed via JS) -->
  <div id="mainText" class="special-text" aria-live="polite" aria-atomic="true"></div>

  <!-- FLOWERS bouquet (keeps the visual style from your original) -->
  <div class="flowers" aria-hidden="false">
    <div class="bouquet" role="img" aria-label="Ramo de girasoles amarillos">
      <!-- Flower Left -->
      <div class="flower" style="--flower-size:18vmin;">
        <div class="flower__leafs" style="width:18vmin;height:18vmin;">
          <!-- petals: 12 petals arranged inline -->
          <div class="flower__leaf" style="transform: translate(-50%,-10%) rotate(0deg) scale(.85);"></div>
          <div class="flower__leaf" style="transform: translate(-50%,-10%) rotate(30deg) scale(.85);"></div>
          <div class="flower__leaf" style="transform: translate(-50%,-10%) rotate(60deg) scale(.85);"></div>
          <div class="flower__leaf" style="transform: translate(-50%,-10%) rotate(90deg) scale(.85);"></div>
          <div class="flower__leaf" style="transform: translate(-50%,-10%) rotate(120deg) scale(.85);"></div>
          <div class="flower__leaf" style="transform: translate(-50%,-10%) rotate(150deg) scale(.85);"></div>
          <div class="flower__white-circle"></div>
          <div class="flower__light" style="left:-2vmin; animation-delay:1s;"></div>
          <div class="flower__light" style="left:3vmin; animation-delay:0.5s;"></div>
        </div>
        <div class="flower__line" style="height:38vmin;"></div>
      </div>

      <!-- Flower Center -->
      <div class="flower" style="--flower-size:22vmin;">
        <div class="flower__leafs" style="width:22vmin;height:22vmin;">
          <div class="flower__leaf" style="transform: translate(-50%,-10%) rotate(0deg) scale(1);"></div>
          <div class="flower__leaf" style="transform: translate(-50%,-10%) rotate(30deg) scale(1);"></div>
          <div class="flower__leaf" style="transform: translate(-50%,-10%) rotate(60deg) scale(1);"></div>
          <div class="flower__leaf" style="transform: translate(-50%,-10%) rotate(90deg) scale(1);"></div>
          <div class="flower__leaf" style="transform: translate(-50%,-10%) rotate(120deg) scale(1);"></div>
          <div class="flower__leaf" style="transform: translate(-50%,-10%) rotate(150deg) scale(1);"></div>
          <div class="flower__leaf" style="transform: translate(-50%,-10%) rotate(180deg) scale(1);"></div>
          <div class="flower__white-circle"></div>
          <div class="flower__light" style="left:-2vmin; animation-delay:0.4s;"></div>
          <div class="flower__light" style="left:3vmin; animation-delay:1.0s;"></div>
        </div>
        <div class="flower__line" style="height:42vmin;"></div>
      </div>

      <!-- Flower Right -->
      <div class="flower" style="--flower-size:19vmin;">
        <div class="flower__leafs" style="width:19vmin;height:19vmin;">
          <div class="flower__leaf" style="transform: translate(-50%,-10%) rotate(0deg) scale(.95);"></div>
          <div class="flower__leaf" style="transform: translate(-50%,-10%) rotate(40deg) scale(.95);"></div>
          <div class="flower__leaf" style="transform: translate(-50%,-10%) rotate(80deg) scale(.95);"></div>
          <div class="flower__white-circle"></div>
          <div class="flower__light" style="left:-1.6vmin; animation-delay:.6s;"></div>
        </div>
        <div class="flower__line" style="height:36vmin;"></div>
      </div>

      <!-- Grass base -->
      <div class="bouquet-grass" aria-hidden="true" style="bottom:-1vmin;">
        <div class="blade" style="transform: rotate(-8deg)"></div>
        <div class="blade" style="transform: rotate(2deg)"></div>
        <div class="blade" style="transform: rotate(-12deg)"></div>
        <div class="blade" style="transform: rotate(6deg)"></div>
      </div>

    </div>
  </div>

  <!-- container for floating phrases (appended by JS) -->
  <div id="phrasesLayer" aria-hidden="false"></div>

  <script>
    /* ---------- ONLOAD: enable animations and start behaviors ---------- */
    window.onload = () => {
      document.body.classList.remove("not-loaded");

      /* ---------- Typewriter for main text ---------- */
      const mainTextEl = document.getElementById('mainText');
      const textToType = "Las flores amarillas representan la felicidad.\nY tú eres la mía ❤️";
      mainTextEl.textContent = "";
      mainTextEl.classList.add('typing'); // caret shows when typing
      const typingSpeed = 48; // ms per char, adjust to taste
      let idx = 0;
      (function typeChar() {
        if (idx < textToType.length) {
          mainTextEl.textContent += textToType[idx++];
          setTimeout(typeChar, typingSpeed);
        } else {
          // remove caret after small delay
          setTimeout(() => mainTextEl.classList.remove('typing'), 600);
        }
      })();

      /* ---------- subtle shooting stars generator ---------- */
      const shootingContainer = document.querySelector('.shooting-stars');
      function createShootingStar() {
        const star = document.createElement('div');
        star.className = 'shooting-star';
        star.style.top = (Math.random() * 40 + 5) + '%';
        star.style.left = '-5%';
        star.style.animationDuration = (Math.random() * 1.6 + 2) + 's';
        shootingContainer.appendChild(star);
        setTimeout(() => star.remove(), 3800);
      }
      setInterval(()=>{ if (Math.random() > 0.7) createShootingStar(); }, 1500);

      /* ---------- Floating phrases logic (no repeats until all shown) ---------- */
      const phrases = [
        "Eres la mejor niña.",
        "Siempre pienso en mi princesita.",
        "Tú eres mi alegría.",
        "Mi solecito.",
        "Tu sonrisa ilumina mis días.",
        "Eres mi razón para sonreír.",
        "Eres única y especial.",
        "Me haces muy feliz."
      ];

      // safe zones where phrases will appear — chosen to avoid central top (main text)
      // and bottom center (flowers). Values are percentages.
      const safeZones = [
        { top: "18%", left: "12%" }, // top-left
        { top: "18%", left: "88%" }, // top-right (uses transform translate to keep inside)
        { top: "50%", left: "12%" }, // mid-left
        { top: "50%", left: "88%" }, // mid-right
        { top: "78%", left: "12%" }, // bottom-left (but outside bouquet)
        { top: "78%", left: "88%" }  // bottom-right
      ];

      // We'll display phrases one-by-one, cycling through a shuffled order.
      function shuffle(a){ const b = a.slice(); for(let i=b.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [b[i],b[j]]=[b[j],b[i]] } return b; }
      let order = shuffle(phrases);
      let pointer = 0;
      const phraseVisibleMs = 5500;

      const phrasesLayer = document.getElementById('phrasesLayer');

      function showNextPhrase(){
        if(pointer >= order.length){
          order = shuffle(phrases);
          pointer = 0;
        }
        const text = order[pointer++];
        // create element
        const el = document.createElement('div');
        el.className = 'floating-phrase';
        el.textContent = text;

        // pick a random safe zone that's currently not occupied
        // to keep it simple we pick random zone; overlapping different phrases is unlikely since durations are limited.
        const zone = safeZones[Math.floor(Math.random()*safeZones.length)];

        // position it: we use left values possibly > 50% but translate(-50%) will keep it within viewport.
        el.style.top = zone.top;
        el.style.left = zone.left;

        // ensure readable size and slight random rotation and background tint
        const size = (Math.random() * 1.2 + 2.4).toFixed(2); // vmin
        el.style.fontSize = size + 'vmin';
        el.style.transform = `translate(-50%, -50%) rotate(${(Math.random()*12-6).toFixed(2)}deg)`;

        // optional color variation (keeps high contrast)
        const colors = ["#fffbea","#fffacd","#ffdca8","#ffe4b5"];
        el.style.color = colors[Math.floor(Math.random()*colors.length)];
        el.style.background = "rgba(0,0,0,0.22)";

        phrasesLayer.appendChild(el);

        // remove after duration
        setTimeout(()=> {
          el.remove();
        }, phraseVisibleMs);

        // schedule next after short gap (so phrases don't overlap too much)
        const gap = Math.random() * 1200 + 600; // 600ms to 1800ms
        setTimeout(showNextPhrase, phraseVisibleMs + gap);
      }

      // start after typing begins a bit
      setTimeout(()=> showNextPhrase(), 1400);

    }; /* end onload */
  </script>
</body>
</html>

